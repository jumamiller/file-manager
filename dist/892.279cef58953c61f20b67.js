"use strict";(self.webpackChunkadmin_development=self.webpackChunkadmin_development||[]).push([[892],{4892:(oe,h,s)=>{s.r(h),s.d(h,{LocalGovernmentsModule:()=>te});var m=s(8583),Z=s(3423),q=s(7037),G=s(2340),v=s(3815),L=s(5299),e=s(7716),T=s(5384),i=s(3679),C=s(8562),x=s(4142),b=s(2533);const y=function(){return["/admin/local-government-area/add-local-government"]};function U(o,a){1&o&&(e.TgZ(0,"p"),e.TgZ(1,"a",18),e._UZ(2,"i",19),e._uU(3," Add LGA"),e.qZA(),e.qZA()),2&o&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,y)))}function w(o,a){1&o&&(e.TgZ(0,"th",12),e._uU(1,"View"),e.qZA())}function J(o,a){1&o&&(e.TgZ(0,"th",12),e._uU(1,"Edit"),e.qZA())}function N(o,a){1&o&&(e.TgZ(0,"th",12),e._uU(1,"Remove"),e.qZA())}function M(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"td",21),e.TgZ(1,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).onLGAClick(r)}),e._UZ(2,"i",26),e.qZA(),e.qZA()}}function E(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"td",21),e.TgZ(1,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).onLGAClick(r)}),e._UZ(2,"i",28),e.qZA(),e.qZA()}}function S(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"td",21),e.TgZ(1,"button",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit;return e.oxw(2).removeLGA(r.id)}),e._UZ(2,"i",30),e.qZA(),e.qZA()}}const c=function(o){return[o,"nav"]};function P(o,a){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td",20),e._uU(2),e.qZA(),e.TgZ(3,"td",21),e._UZ(4,"img",22),e.qZA(),e.TgZ(5,"td",20),e._uU(6),e.qZA(),e.TgZ(7,"td",20),e._uU(8),e.qZA(),e.TgZ(9,"td",23),e._uU(10),e.ALo(11,"number"),e.qZA(),e.TgZ(12,"td",23),e._uU(13),e.ALo(14,"number"),e.qZA(),e.YNc(15,M,3,0,"td",24),e.YNc(16,E,3,0,"td",24),e.YNc(17,S,3,0,"td",24),e.qZA()),2&o){const t=a.$implicit,n=a.index,r=e.oxw(2);e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Q6J("src",r.imageUrl+t.LGA_avatar,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.state),e.xp6(2),e.Oqu(e.lcZ(11,9,t.population)),e.xp6(3),e.hij("",e.lcZ(14,11,t.area),"KM2"),e.xp6(2),e.Q6J("appAccessControl",e.VKq(13,c,r.permissionType.VIEW_LGA)),e.xp6(1),e.Q6J("appAccessControl",e.VKq(15,c,r.permissionType.EDIT_LGA)),e.xp6(1),e.Q6J("appAccessControl",e.VKq(17,c,r.permissionType.DELETE_LGA))}}function Q(o,a){1&o&&(e.TgZ(0,"div",31),e._UZ(1,"div",32),e.qZA())}const F=function(o,a,t){return{itemsPerPage:o,currentPage:a,totalItems:t}};function I(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"div",4),e.TgZ(2,"div",5),e.TgZ(3,"h4"),e._uU(4,"List of Projects"),e.qZA(),e.qZA(),e.TgZ(5,"div",6),e.YNc(6,U,4,2,"p",7),e.qZA(),e.qZA(),e.TgZ(7,"div",8),e.TgZ(8,"div",9),e.TgZ(9,"table",10),e.TgZ(10,"thead"),e.TgZ(11,"tr"),e.TgZ(12,"th",11),e._uU(13,"#"),e.qZA(),e.TgZ(14,"th",12),e._uU(15,"LGA Image"),e.qZA(),e.TgZ(16,"th",12),e._uU(17,"Name"),e.qZA(),e.TgZ(18,"th",12),e._uU(19,"State"),e.qZA(),e.TgZ(20,"th",12),e._uU(21,"Population"),e.qZA(),e.TgZ(22,"th",12),e._uU(23,"Area"),e.qZA(),e.YNc(24,w,2,0,"th",13),e.YNc(25,J,2,0,"th",13),e.YNc(26,N,2,0,"th",13),e.qZA(),e.qZA(),e.TgZ(27,"tbody"),e.YNc(28,P,18,19,"tr",14),e.ALo(29,"paginate"),e.qZA(),e.qZA(),e.TgZ(30,"div",15),e.TgZ(31,"pagination-controls",16),e.NdJ("pageChange",function(r){return e.CHM(t),e.oxw().onTableDataChange(r)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(32,Q,2,0,"div",17),e.qZA()}if(2&o){const t=e.oxw();e.xp6(6),e.Q6J("appAccessControl",e.VKq(13,c,t.permissionType.CREATE_PROJECTS)),e.xp6(18),e.Q6J("appAccessControl",e.VKq(15,c,t.permissionType.VIEW_LGA)),e.xp6(1),e.Q6J("appAccessControl",e.VKq(17,c,t.permissionType.EDIT_LGA)),e.xp6(1),e.Q6J("appAccessControl",e.VKq(19,c,t.permissionType.DELETE_LGA)),e.xp6(2),e.Q6J("ngForOf",e.xi3(29,10,t.lgas,e.kEZ(21,F,t.tableSize,t.page,t.count))),e.xp6(3),e.Q6J("responsive",!0)("maxSize",7)("directionLinks",!0)("autoHide",!0),e.xp6(1),e.Q6J("ngIf",t.loading)}}function O(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",33),e.TgZ(1,"div",34),e.TgZ(2,"div",35),e.TgZ(3,"div",36),e.TgZ(4,"div",37),e._UZ(5,"img",38),e.qZA(),e.TgZ(6,"h1",39),e._uU(7),e.qZA(),e.TgZ(8,"button",40),e.TgZ(9,"span",41),e._uU(10,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",42),e.TgZ(12,"form",43),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onLGAUpdate()}),e.TgZ(13,"div",44),e.TgZ(14,"label"),e._uU(15,"Name"),e.qZA(),e._UZ(16,"input",45),e.qZA(),e.TgZ(17,"div",44),e.TgZ(18,"label"),e._uU(19,"State"),e.qZA(),e._UZ(20,"input",46),e.qZA(),e.TgZ(21,"div",44),e.TgZ(22,"label"),e._uU(23,"Population"),e.qZA(),e._UZ(24,"input",47),e.qZA(),e.TgZ(25,"div",44),e.TgZ(26,"label"),e._uU(27,"Area"),e.qZA(),e._UZ(28,"input",48),e.qZA(),e.TgZ(29,"div",44),e.TgZ(30,"label"),e._uU(31,"Country"),e.qZA(),e._UZ(32,"input",49),e.qZA(),e.TgZ(33,"div",50),e.TgZ(34,"div",51),e.TgZ(35,"label",52),e._uU(36,"Chairman Message"),e.qZA(),e._UZ(37,"textarea",53),e.qZA(),e.qZA(),e.TgZ(38,"div",50),e.TgZ(39,"div",51),e.TgZ(40,"label",54),e._uU(41,"History"),e.qZA(),e._UZ(42,"textarea",55),e.qZA(),e.qZA(),e.TgZ(43,"div",56),e.TgZ(44,"button",57),e._uU(45,"Close"),e.qZA(),e.TgZ(46,"button",58),e._uU(47),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Q6J("src",t.imageUrl+t.selectedLGA.LGA_avatar,e.LSH),e.xp6(2),e.Oqu(t.selectedLGA.name),e.xp6(5),e.Q6J("formGroup",t.editLGAForm),e.xp6(4),e.Q6J("placeholder",t.selectedLGA.name),e.xp6(4),e.Q6J("placeholder",t.selectedLGA.state),e.xp6(4),e.Q6J("placeholder",t.selectedLGA.population),e.xp6(4),e.Q6J("placeholder",t.selectedLGA.area),e.xp6(4),e.Q6J("placeholder",t.selectedLGA.area),e.xp6(5),e.Q6J("placeholder",t.selectedLGA.chairman_message),e.xp6(5),e.Q6J("placeholder",t.selectedLGA.history),e.xp6(5),e.hij("Update ",t.selectedLGA.name,"")}}function z(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",59),e.TgZ(1,"div",34),e.TgZ(2,"div",35),e.TgZ(3,"div",36),e.TgZ(4,"h1",60),e._uU(5),e.qZA(),e.TgZ(6,"button",40),e.TgZ(7,"span",41),e._uU(8,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(9,"div",42),e.TgZ(10,"form",43),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onLGAUpdate()}),e.TgZ(11,"div",44),e.TgZ(12,"label"),e._uU(13,"Name"),e.qZA(),e._UZ(14,"input",61),e.qZA(),e.TgZ(15,"div",44),e.TgZ(16,"label"),e._uU(17,"State"),e.qZA(),e._UZ(18,"input",62),e.qZA(),e.TgZ(19,"div",44),e.TgZ(20,"label"),e._uU(21,"Population"),e.qZA(),e._UZ(22,"input",63),e.qZA(),e.TgZ(23,"div",44),e.TgZ(24,"label"),e._uU(25,"Area"),e.qZA(),e._UZ(26,"input",64),e.qZA(),e.TgZ(27,"div",44),e.TgZ(28,"label"),e._uU(29,"Country"),e.qZA(),e._UZ(30,"input",65),e.qZA(),e.TgZ(31,"div",44),e.TgZ(32,"label",66),e._uU(33,"Upload Image"),e.qZA(),e.TgZ(34,"input",67),e.NdJ("change",function(r){return e.CHM(t),e.oxw().handleFileInput(r)}),e.qZA(),e.qZA(),e.TgZ(35,"div",50),e.TgZ(36,"div",51),e.TgZ(37,"label",52),e._uU(38,"Chairman Message"),e.qZA(),e._UZ(39,"textarea",68),e.qZA(),e.qZA(),e.TgZ(40,"div",50),e.TgZ(41,"div",51),e.TgZ(42,"label",54),e._uU(43,"History"),e.qZA(),e._UZ(44,"textarea",69),e.qZA(),e.qZA(),e.TgZ(45,"div",56),e.TgZ(46,"button",57),e._uU(47,"Close"),e.qZA(),e.TgZ(48,"button",58),e._uU(49),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(5),e.Oqu(t.selectedLGA.name),e.xp6(5),e.Q6J("formGroup",t.editLGAForm),e.xp6(4),e.Q6J("value",t.selectedLGA.name),e.xp6(4),e.Q6J("value",t.selectedLGA.state),e.xp6(4),e.Q6J("value",t.selectedLGA.population),e.xp6(4),e.Q6J("value",t.selectedLGA.area),e.xp6(4),e.Q6J("value",t.selectedLGA.area),e.xp6(19),e.hij("Update ",t.selectedLGA.name,"")}}const Y=function(o){return[o,"page"]};let k=(()=>{class o{constructor(t,n,r,l){this.apiService=t,this.fb=n,this.router=r,this.confirmationAlert=l,this.loading=!0,this.imageUrl=G.N.ASSETS_URL,this.page=1,this.count=0,this.tableSize=8,this.permissionType=L.v}ngOnInit(){this.getLGAs(),this.LGAFormControls()}getLGAs(){this.apiService.getLocalGovernments().subscribe(t=>{this.lgas=t.data,this.loading=!1})}LGAFormControls(){this.editLGAForm=this.fb.group({name:[],state:[],population:[],area:[],country:[],chairman_message:[],history:[]})}get form(){return this.editLGAForm.controls}onLGAClick(t){this.selectedLGA=t}removeLGA(t){this.confirmationAlert.sweetAlert("Are you sure?","Deleting LGA is an irreversible process and will affect users linked","","","question",!0,"Yes, Delete LGA!","No, Cancel","",this.apiService.removeLocalGovernments(t))}onLGAUpdate(){this.confirmationAlert.sweetAlert("Are you sure?",`By editing ${this.selectedLGA.name}, you approve that the affected officials details will be updated!`,"","","question",!0,"Yes, Update LGA!","No, Cancel","",this.apiService.updateLocalGovernment({area:this.form.area.value,chairman_message:this.form.chairman_message.value,country:this.form.country.value,history:this.form.history.value,name:this.form.name.value,population:this.form.population.value,state:this.form.state.value,LGA_avatar:this.cardImageBase64},this.selectedLGA.id))}handleFileInput(t){if(this.imageError=null,t.target.files&&t.target.files[0]){const n=20971520,r=["image/png","image/jpeg"],l=15200,d=25600;if(t.target.files[0].size>n)return this.imageError="Maximum size allowed is "+n/1e3+"Mb",!1;if(!v.includes(r,t.target.files[0].type))return this.imageError="Only Images are allowed ( JPG | PNG )",!1;const p=new FileReader;p.onload=g=>{const u=new Image;u.src=g.target.result,u.onload=_=>{const f=_.currentTarget.height,A=_.currentTarget.width;if(console.log(f,A),f>l&&A>d)return this.imageError="Maximum dimensions allowed "+l+"*"+d+"px",!1;this.cardImageBase64=g.target.result,this.isImageSaved=!0}},p.readAsDataURL(t.target.files[0])}}reloadCurrentRoute(){let t=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([t])})}onTableDataChange(t){this.page=t,this.getLGAs()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(T.s),e.Y36(i.qu),e.Y36(Z.F0),e.Y36(C.C))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-local-governments"]],decls:3,vars:5,consts:[["class","content mat-elevation-z8",4,"appAccessControl"],["class","modal fade","data-backdrop","false","id","viewLGA","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade","data-backdrop","false","id","editLGA","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",4,"ngIf"],[1,"content","mat-elevation-z8"],[1,"row","header","p-3"],[1,"col-md-6"],[1,"col-md-6","content-right"],[4,"appAccessControl"],[1,"citizens","p-3"],[1,"table-responsive"],[1,"table","table-striped","table-hover","table-bordered"],["scope","col"],["scope","col",1,"text-center"],["scope","col","class","text-center",4,"appAccessControl"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-left","p-2","mt-2","pagination-text"],["previousLabel","Prev","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",3,"responsive","maxSize","directionLinks","autoHide","pageChange"],["class","d-flex justify-content-center my-1",4,"ngIf"],[1,"btn",3,"routerLink"],[1,"fas","fa-plus-circle"],[1,""],[1,"text-center"],["width","60","height","60","alt","LGA",1,"rounded-circle",3,"src"],[1,"text-right"],["class","text-center",4,"appAccessControl"],["data-target","#viewLGA","data-toggle","modal",1,"btn","btn-success",3,"click"],[1,"fas","fa-eye"],["data-toggle","modal","data-target","#editLGA",1,"btn","btn-primary",3,"click"],[1,"fas","fa-user-edit"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"d-flex","justify-content-center","my-1"],["role","status","aria-hidden","true",1,"spinner-border"],["data-backdrop","false","id","viewLGA","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"text-center","m-2"],["width","200","height","200","alt","LGA",1,"rounded-circle",3,"src"],["id","viewLGAModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],["type","text","formControlName","state",1,"form-control",3,"placeholder"],["type","number","formControlName","population",1,"form-control",3,"placeholder"],["type","number","formControlName","area",1,"form-control",3,"placeholder"],["type","text","formControlName","country",1,"form-control",3,"placeholder"],[1,"form-row","m-3"],[1,"col-md-12"],["for","chairman_message"],["cols","5","rows","5","formControlName","chairman_message",1,"form-control",3,"placeholder"],["for","history"],["cols","5","rows","5","formControlName","history",1,"form-control",3,"placeholder"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],["type","submit",1,"btn","btn-success"],["data-backdrop","false","id","editLGA","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",1,"modal","fade"],["id","editRoleModalLabel",1,"modal-title"],["type","text","formControlName","name",1,"form-control",3,"value"],["type","text","formControlName","state",1,"form-control",3,"value"],["type","number","formControlName","population",1,"form-control",3,"value"],["type","number","formControlName","area",1,"form-control",3,"value"],["type","text","formControlName","country",1,"form-control",3,"value"],["for","file"],["type","file","id","file","placeholder","",1,"form-control-file",3,"change"],["cols","5","rows","5","id","chairman_message","formControlName","chairman_message",1,"form-control"],["cols","5","rows","5","id","history","formControlName","history",1,"form-control"]],template:function(t,n){1&t&&(e.YNc(0,I,33,25,"div",0),e.YNc(1,O,48,11,"div",1),e.YNc(2,z,50,8,"div",2)),2&t&&(e.Q6J("appAccessControl",e.VKq(3,Y,n.permissionType.VIEW_LGA)),e.xp6(1),e.Q6J("ngIf",n.selectedLGA),e.xp6(1),e.Q6J("ngIf",n.selectedLGA))},directives:[x.J,m.O5,m.sg,b.LS,Z.yS,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.wV],pipes:[b._s,m.JJ],styles:['.content[_ngcontent-%COMP%]{height:auto;border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}.header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-style:normal;font-weight:600;font-size:24px;line-height:175.6%;color:#000}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-style:normal;font-weight:600;font-size:16px;line-height:175.6%;color:#fff;width:228px;height:46px;background:#003679;border-radius:3px}.content-right[_ngcontent-%COMP%]{text-align:right}table[_ngcontent-%COMP%]{border:2px solid #333333;box-sizing:border-box}thead[_ngcontent-%COMP%]{background:#E1EAFB;font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}.table-totals[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:normal;font-size:18px;line-height:175.6%;color:#000}.pagination-text[_ngcontent-%COMP%]{font-size:12px}']}),o})();var R=s(9344);function H(o,a){1&o&&(e.TgZ(0,"button",26),e._uU(1,"Add Local Government Area"),e.qZA())}function V(o,a){1&o&&(e.TgZ(0,"button",27),e._uU(1,"Adding Local Government Area..."),e.qZA())}function j(o,a){if(1&o&&(e.TgZ(0,"div",23),e.YNc(1,H,2,0,"button",24),e.YNc(2,V,2,0,"button",25),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.submitting),e.xp6(1),e.Q6J("ngIf",t.submitting)}}const D=function(o){return[o,"nav"]};function B(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"h2",2),e._uU(2,"New Local Government Area"),e.qZA(),e.TgZ(3,"div",3),e.TgZ(4,"form",4),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().onSubmit()}),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"label",7),e._uU(8,"Name"),e.qZA(),e._UZ(9,"input",8),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"label",9),e._uU(12,"Area"),e.qZA(),e._UZ(13,"input",10),e.qZA(),e.TgZ(14,"div",6),e.TgZ(15,"label",7),e._uU(16,"State"),e.qZA(),e._UZ(17,"input",11),e.qZA(),e.qZA(),e.TgZ(18,"div",5),e.TgZ(19,"div",6),e.TgZ(20,"label",9),e._uU(21,"Country"),e.qZA(),e._UZ(22,"input",12),e.qZA(),e.TgZ(23,"div",6),e.TgZ(24,"label",13),e._uU(25,"LGA Photo"),e.qZA(),e.TgZ(26,"input",14),e.NdJ("change",function(r){return e.CHM(t),e.oxw().handleFileInput(r)}),e.qZA(),e.qZA(),e.TgZ(27,"div",6),e.TgZ(28,"label",15),e._uU(29,"LGA Population"),e.qZA(),e._UZ(30,"input",16),e.qZA(),e.qZA(),e.TgZ(31,"div",5),e.TgZ(32,"div",17),e.TgZ(33,"label",18),e._uU(34,"Chairman Message"),e.qZA(),e._UZ(35,"textarea",19),e.qZA(),e.qZA(),e.TgZ(36,"div",5),e.TgZ(37,"div",17),e.TgZ(38,"label",20),e._uU(39,"LGA History"),e.qZA(),e._UZ(40,"textarea",21),e.qZA(),e.qZA(),e.YNc(41,j,3,2,"div",22),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=e.oxw();e.xp6(4),e.Q6J("formGroup",t.LGAForm),e.xp6(37),e.Q6J("appAccessControl",e.VKq(2,D,t.permissionType.CREATE_LGA))}}const K=function(o){return[o,"page"]},W=[{path:"",component:q.k,children:[{path:"list-governments",component:k},{path:"add-local-government",component:(()=>{class o{constructor(t,n,r){this.fb=t,this.apiService=n,this.toastrService=r,this.permissionType=L.v,this.submitting=!1}ngOnInit(){this.LGAForm=this.fb.group({name:["",[i.kI.required]],area:["",[i.kI.required]],population:["",[i.kI.required]],state:["",[i.kI.required]],country:["",[i.kI.required]],history:[""],chairman:["",i.kI.required],chairman_message:[""]})}get form(){return this.LGAForm.controls}onSubmit(){this.submitting=!0,this.apiService.addLocalGovernments({area:this.form.area.value,chairman_message:this.form.chairman_message.value,country:this.form.country.value,history:this.form.history.value,name:this.form.name.value,population:this.form.population.value,state:this.form.state.value,LGA_avatar:this.cardImageBase64}).subscribe(n=>{n.success?(this.toastrService.success(n.message,"Success"),this.submitting=!1):(this.toastrService.warning(n.message,"Failed"),this.submitting=!1)},n=>{this.toastrService.error(n.error.message,"Error"),this.submitting=!1})}handleFileInput(t){if(this.imageError=null,t.target.files&&t.target.files[0]){const n=20971520,r=["image/png","image/jpeg"],l=15200,d=25600;if(t.target.files[0].size>n)return this.imageError="Maximum size allowed is "+n/1e3+"Mb",this.toastrService.error(this.imageError,"Error"),!1;if(!v.includes(r,t.target.files[0].type))return this.imageError="Only Images are allowed ( JPG | PNG )",this.toastrService.error(this.imageError,"Error"),!1;const p=new FileReader;p.onload=g=>{const u=new Image;u.src=g.target.result,u.onload=_=>{if(_.currentTarget.height>l&&_.currentTarget.width>d)return this.imageError="Maximum dimensions allowed "+l+"*"+d+"px",!1;this.cardImageBase64=g.target.result,this.isImageSaved=!0}},p.readAsDataURL(t.target.files[0])}}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(i.qu),e.Y36(T.s),e.Y36(R._W))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-local-governments"]],decls:1,vars:3,consts:[["class","content mat-elevation-z8",4,"appAccessControl"],[1,"content","mat-elevation-z8"],[1,"text-center","text-dark"],[1,"add-new-user"],[3,"formGroup","ngSubmit"],[1,"form-row","m-3"],[1,"col-md-4"],["for","name"],["type","text","id","name","formControlName","name","placeholder","","required","",1,"form-control"],["for","area"],["type","number","id","area","formControlName","area","placeholder","","required","",1,"form-control"],["type","text","id","state","formControlName","state","placeholder","","required","",1,"form-control"],["type","text","id","country","formControlName","country","placeholder","","required","",1,"form-control"],["for","LGA_avatar"],["type","file","id","LGA_avatar","placeholder","","required","",1,"form-control-file",3,"change"],["for","population"],["type","number","id","population","formControlName","population","placeholder","","required","",1,"form-control"],[1,"col-md-12"],["for","chairman_message"],["cols","5","rows","5","id","chairman_message","formControlName","chairman_message",1,"form-control"],["for","history"],["id","history","cols","7","rows","7","id","=history","formControlName","history",1,"form-control"],["class","m-5 text-right",4,"appAccessControl"],[1,"m-5","text-right"],["class","btn btn-danger mb-2",4,"ngIf"],["class","btn btn-success mb-2",4,"ngIf"],[1,"btn","btn-danger","mb-2"],[1,"btn","btn-success","mb-2"]],template:function(t,n){1&t&&e.YNc(0,B,42,4,"div",0),2&t&&e.Q6J("appAccessControl",e.VKq(1,K,n.permissionType.CREATE_LGA))},directives:[x.J,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,i.Q7,i.wV,m.O5],styles:['.content[_ngcontent-%COMP%]{height:auto;border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}label[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:20px;line-height:36px;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:600;font-size:18px;line-height:27px;color:#b7b7b7}']}),o})()}]}];let X=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(W)],Z.Bz]}),o})();var ee=s(4466);let te=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.ez,ee.m,X]]}),o})()}}]);