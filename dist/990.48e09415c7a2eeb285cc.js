"use strict";(self.webpackChunkadmin_development=self.webpackChunkadmin_development||[]).push([[990],{2990:(w,p,i)=>{i.r(p),i.d(p,{CategoryModule:()=>D});var u=i(8583),g=i(3423),f=i(7037),_=i(8668),t=i(7716),n=i(3679);function C(o,r){if(1&o&&(t.TgZ(0,"button",11),t._uU(1,"Add Category"),t.qZA()),2&o){const e=t.oxw();t.Q6J("disabled",e.categoryForm.invalid)}}function d(o,r){1&o&&(t.TgZ(0,"button",12),t._uU(1,"Processing New category..."),t.qZA())}let b=(()=>{class o{constructor(){this.loading=!0,this.submitting=!1}ngOnInit(){}onSubmit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-category"]],decls:13,vars:3,consts:[[1,"content","mat-elevation-z8"],[1,"text-center","text-dark"],[1,"add-new-user"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"form-row","m-3"],[1,"col-md-4"],["for","firstName"],["type","text","id","firstName","formControlName","firstName","placeholder","John","required","",1,"form-control"],[1,"submission","m-4","text-right"],["type","submit","class","btn btn-danger",3,"disabled",4,"ngIf"],["type","submit","class","btn btn-success",4,"ngIf"],["type","submit",1,"btn","btn-danger",3,"disabled"],["type","submit",1,"btn","btn-success"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2,"Add New Government Official"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"label",6),t._uU(8,"First Name"),t.qZA(),t._UZ(9,"input",7),t.qZA(),t.qZA(),t.TgZ(10,"div",8),t.YNc(11,C,2,1,"button",9),t.YNc(12,d,2,0,"button",10),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("formGroup",a.categoryForm),t.xp6(7),t.Q6J("ngIf",!a.submitting),t.xp6(1),t.Q6J("ngIf",a.submitting))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.Q7,u.O5],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}label[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:20px;line-height:36px;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:600;font-size:18px;line-height:27px}']}),o})();var h=i(5384),A=i(9344),T=i(8562);function v(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",29),t._uU(2),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.qZA(),t.TgZ(5,"td",29),t._uU(6),t.qZA(),t.TgZ(7,"td",30),t.TgZ(8,"button",31),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().onCategoryClick(c)}),t._UZ(9,"i",32),t.qZA(),t.qZA(),t.TgZ(10,"td",30),t.TgZ(11,"button",33),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().onCategoryClick(c)}),t._UZ(12,"i",34),t.qZA(),t.qZA(),t.TgZ(13,"td",30),t.TgZ(14,"button",35),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().onCategoryClick(c)}),t._UZ(15,"i",36),t.qZA(),t.qZA(),t.TgZ(16,"td",30),t.TgZ(17,"button",37),t.NdJ("click",function(){const c=t.CHM(e).$implicit;return t.oxw().removeCategory(c.id)}),t._UZ(18,"i",38),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=r.$implicit,a=r.index;t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.category_name),t.xp6(2),t.Oqu(e.category_description||"No description found")}}function q(o,r){1&o&&(t.TgZ(0,"div",39),t._UZ(1,"div",40),t.qZA())}function x(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",41),t.TgZ(1,"div",13),t.TgZ(2,"div",14),t.TgZ(3,"div",15),t.TgZ(4,"h1",42),t._uU(5),t.qZA(),t.TgZ(6,"button",17),t.TgZ(7,"span",18),t._uU(8,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",19),t.TgZ(10,"form",20),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().onCategoryEdit()}),t.TgZ(11,"div",21),t.TgZ(12,"label"),t._uU(13,"Name"),t.qZA(),t._UZ(14,"input",43),t.qZA(),t.TgZ(15,"div",21),t.TgZ(16,"label"),t._uU(17,"Description"),t.qZA(),t._UZ(18,"input",44),t.qZA(),t.TgZ(19,"div",24),t.TgZ(20,"button",25),t._uU(21,"Close"),t.qZA(),t.TgZ(22,"button",45),t._uU(23),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(e.selectedCategory.category_name),t.xp6(5),t.Q6J("formGroup",e.editCategoryForm),t.xp6(4),t.Q6J("placeholder",e.selectedCategory.category_name),t.xp6(4),t.Q6J("placeholder",e.selectedCategory.category_description),t.xp6(5),t.hij("Update ",e.selectedCategory.category_name,"")}}function U(o,r){1&o&&(t.TgZ(0,"button",45),t._uU(1,"Add Category"),t.qZA())}function Z(o,r){1&o&&(t.TgZ(0,"button",45),t._uU(1,"Adding New Category..."),t.qZA())}function y(o,r){1&o&&(t.TgZ(0,"button",51),t._uU(1,"Add Office"),t.qZA())}function s(o,r){1&o&&(t.TgZ(0,"button",45),t._uU(1,"Adding Office..."),t.qZA())}function N(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",46),t.TgZ(1,"div",13),t.TgZ(2,"div",14),t.TgZ(3,"div",15),t.TgZ(4,"h1",47),t._uU(5),t.qZA(),t.TgZ(6,"button",17),t.TgZ(7,"span",18),t._uU(8,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",19),t.TgZ(10,"form",20),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().onCategoryOfficeSubmission()}),t.TgZ(11,"div",21),t.TgZ(12,"label"),t._uU(13,"Name"),t.qZA(),t._UZ(14,"input",48),t.qZA(),t.TgZ(15,"div",21),t.TgZ(16,"label"),t._uU(17,"Description"),t.qZA(),t._UZ(18,"input",49),t.qZA(),t.TgZ(19,"div",24),t.YNc(20,y,2,0,"button",50),t.YNc(21,s,2,0,"button",26),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.hij("Add Office For ",e.selectedCategory.category_name," "),t.xp6(5),t.Q6J("formGroup",e.addNewCategoryOfficeForm),t.xp6(10),t.Q6J("ngIf",!e.submitting),t.xp6(1),t.Q6J("ngIf",e.submitting)}}function O(o,r){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.qZA()),2&o){const e=r.$implicit,a=r.index;t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(e.sub_category_name),t.xp6(2),t.Oqu(e.sub_category_description)}}function L(o,r){if(1&o&&(t.TgZ(0,"div",52),t.TgZ(1,"div",13),t.TgZ(2,"div",14),t.TgZ(3,"div",15),t.TgZ(4,"h1",53),t._uU(5),t.qZA(),t.TgZ(6,"button",17),t.TgZ(7,"span",18),t._uU(8,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",19),t.TgZ(10,"form"),t.TgZ(11,"div",21),t.TgZ(12,"label"),t._uU(13,"Name"),t.qZA(),t._UZ(14,"input",54),t.qZA(),t.TgZ(15,"div",21),t.TgZ(16,"label"),t._uU(17,"Description"),t.qZA(),t._UZ(18,"input",54),t.qZA(),t.qZA(),t.TgZ(19,"h4",30),t._uU(20,"Offices"),t.qZA(),t.TgZ(21,"table",55),t.TgZ(22,"thead"),t.TgZ(23,"tr"),t.TgZ(24,"th"),t._uU(25,"#"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Name"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Description"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"tbody"),t.YNc(31,O,7,3,"tr",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(5),t.hij("",e.selectedCategory.category_name," "),t.xp6(9),t.Q6J("placeholder",e.selectedCategory.category_name),t.xp6(4),t.Q6J("placeholder",e.selectedCategory.category_description),t.xp6(13),t.Q6J("ngForOf",e.selectedCategory.sub_categories)}}const J=[{path:"",component:f.k,canActivate:[_.a],children:[{path:"add-new-category",component:b},{path:"category-list",component:(()=>{class o{constructor(e,a,l,c,m){this.apiService=e,this.fb=a,this.toastrService=l,this.router=c,this.confirmationAlert=m,this.submitting=!1,this.loading=!0}ngOnInit(){this.getCategories(),this.editFormControls(),this.addNewCategoryControls(),this.addNewCategoryOfficeFormControls()}getCategories(){this.apiService.getCategories().subscribe(e=>{this.categories=e.data,console.log(e.data),this.loading=!1},e=>{this.toastrService.error(e.error.message,"Error")})}addNewCategoryControls(){this.addNewCategoryForm=this.fb.group({category_name:[""],category_description:[""]})}addNewCategoryOfficeFormControls(){this.addNewCategoryOfficeForm=this.fb.group({sub_category_name:[""],sub_category_description:[""]})}editFormControls(){this.editCategoryForm=this.fb.group({category_name:[""],category_description:[""]})}get form(){return this.editCategoryForm.controls}get catForm(){return this.addNewCategoryForm.controls}get officeForm(){return this.addNewCategoryOfficeForm.controls}removeCategory(e){this.confirmationAlert.sweetAlert("Are you sure?","Deleting a category is an irreversible process and will affect the associated official Kogas","","","question",!0,"Yes, Delete Category!","No, Cancel","",this.apiService.removeCategory(e))}onCategoryClick(e){this.selectedCategory=e}onCategoryCreation(){this.submitting=!0,this.apiService.createCategory({category_name:this.catForm.category_name.value,category_description:this.catForm.category_description.value}).subscribe(a=>{this.toastrService.success(a.message,"Success"),this.submitting=!1,this.reloadCurrentRoute()},a=>{this.toastrService.error(a.error.message,"Error"),this.submitting=!1})}onCategoryOfficeSubmission(){this.confirmationAlert.sweetAlert("Are you sure?",`Adding new office to ${this.selectedCategory.category_name} category will allow admins to add officials to this new office!`,"","","question",!0,"Yes, Add Office!","No, Cancel","",this.apiService.createSubCategory({sub_category_name:this.officeForm.sub_category_name.value,sub_category_description:this.officeForm.sub_category_description.value,category_id:this.selectedCategory.id}))}onCategoryEdit(){this.confirmationAlert.sweetAlert("Are you sure?","Editing a category will reflect on the associated officials","","","question",!0,"Yes, Update Category!","No, Cancel","",this.apiService.updateCategories({category_name:this.form.category_name.value,category_description:this.form.category_description.value},this.selectedCategory.id))}reloadCurrentRoute(){let e=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([e])})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.s),t.Y36(n.qu),t.Y36(A._W),t.Y36(g.F0),t.Y36(T.C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-category-list"]],decls:55,vars:8,consts:[[1,"content","mat-elevation-z8"],[1,"m-1","p-1","text-right"],["data-target","#addCategory","data-toggle","modal",1,"btn","btn-danger","text-right","mt-2","ml-5"],[1,"citizens"],[1,"table-responsive"],[1,"text-center","text-dark"],[1,"table","table-striped","table-hover","table-bordered"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center my-1",4,"ngIf"],["class","modal fade","data-backdrop","false","id","viewLGA","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",4,"ngIf"],["data-backdrop","false","id","addCategory","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","addNewModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","category_name",1,"form-control"],["type","text","formControlName","category_description",1,"form-control"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],["type","submit","class","btn btn-success",4,"ngIf"],["class","modal fade","data-backdrop","false","id","addNewSubCategory","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",4,"ngIf"],["class","modal fade","data-backdrop","false","id","viewCategoryDetails","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",4,"ngIf"],[1,""],[1,"text-center"],["data-target","#addNewSubCategory","data-toggle","modal",1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus-circle"],["data-target","#viewCategoryDetails","data-toggle","modal",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-eye"],["data-target","#viewLGA","data-toggle","modal",1,"btn","btn-success",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"d-flex","justify-content-center","my-1"],["role","status","aria-hidden","true",1,"spinner-border"],["data-backdrop","false","id","viewLGA","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",1,"modal","fade"],["id","viewLGAModalLabel",1,"modal-title"],["type","text","formControlName","category_name",1,"form-control",3,"placeholder"],["type","text","formControlName","category_description",1,"form-control",3,"placeholder"],["type","submit",1,"btn","btn-success"],["data-backdrop","false","id","addNewSubCategory","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",1,"modal","fade"],["id","addNewSubCategoryModalLabel",1,"modal-title"],["type","text","formControlName","sub_category_name",1,"form-control"],["type","text","formControlName","sub_category_description",1,"form-control"],["type","submit","class","btn btn-danger",4,"ngIf"],["type","submit",1,"btn","btn-danger"],["data-backdrop","false","id","viewCategoryDetails","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",1,"modal","fade"],["id","viewCategoryDetailsModalLabel",1,"modal-title"],["type","text",1,"form-control",3,"placeholder"],[1,"table","table-striped","table-active","table-bordered","table-hover"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"p",1),t.TgZ(2,"a",2),t._uU(3,"Add Officials Category"),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"h4",5),t._uU(7,"Kogi State Categories"),t.qZA(),t.TgZ(8,"table",6),t.TgZ(9,"thead"),t.TgZ(10,"tr"),t.TgZ(11,"th",7),t._uU(12,"#"),t.qZA(),t.TgZ(13,"th",8),t._uU(14,"Name"),t.qZA(),t.TgZ(15,"th",8),t._uU(16,"Description"),t.qZA(),t.TgZ(17,"th",8),t._uU(18,"Add Offices"),t.qZA(),t.TgZ(19,"th",8),t._uU(20,"View"),t.qZA(),t.TgZ(21,"th",8),t._uU(22,"Edit"),t.qZA(),t.TgZ(23,"th",8),t._uU(24,"Remove"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(25,"tbody"),t.YNc(26,v,19,3,"tr",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(27,q,2,0,"div",10),t.qZA(),t.YNc(28,x,24,5,"div",11),t.TgZ(29,"div",12),t.TgZ(30,"div",13),t.TgZ(31,"div",14),t.TgZ(32,"div",15),t.TgZ(33,"h1",16),t._uU(34,"Add New Category"),t.qZA(),t.TgZ(35,"button",17),t.TgZ(36,"span",18),t._uU(37,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",19),t.TgZ(39,"form",20),t.NdJ("ngSubmit",function(){return a.onCategoryCreation()}),t.TgZ(40,"div",21),t.TgZ(41,"label"),t._uU(42,"Name"),t.qZA(),t._UZ(43,"input",22),t.qZA(),t.TgZ(44,"div",21),t.TgZ(45,"label"),t._uU(46,"Description"),t.qZA(),t._UZ(47,"input",23),t.qZA(),t.TgZ(48,"div",24),t.TgZ(49,"button",25),t._uU(50,"Close"),t.qZA(),t.YNc(51,U,2,0,"button",26),t.YNc(52,Z,2,0,"button",26),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(53,N,22,4,"div",27),t.YNc(54,L,32,4,"div",28)),2&e&&(t.xp6(26),t.Q6J("ngForOf",a.categories),t.xp6(1),t.Q6J("ngIf",a.loading),t.xp6(1),t.Q6J("ngIf",a.selectedCategory),t.xp6(11),t.Q6J("formGroup",a.addNewCategoryForm),t.xp6(12),t.Q6J("ngIf",!a.submitting),t.xp6(1),t.Q6J("ngIf",a.submitting),t.xp6(1),t.Q6J("ngIf",a.selectedCategory),t.xp6(1),t.Q6J("ngIf",a.selectedCategory))},directives:[u.sg,u.O5,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}table[_ngcontent-%COMP%]{box-sizing:border-box}thead[_ngcontent-%COMP%]{background:#E1EAFB;font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}.table-totals[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:normal;font-size:18px;line-height:175.6%;color:#000}']}),o})()},{path:"add-new-sub-category",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-sub-category"]],decls:2,vars:0,template:function(e,a){1&e&&(t.TgZ(0,"p"),t._uU(1,"add-sub-category works!"),t.qZA())},styles:[""]}),o})()},{path:"sub-category-list",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-sub-category-list"]],decls:2,vars:0,template:function(e,a){1&e&&(t.TgZ(0,"p"),t._uU(1,"sub-category-list works!"),t.qZA())},styles:[""]}),o})()}]}];let B=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.Bz.forChild(J)],g.Bz]}),o})();var I=i(4466);let D=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.ez,I.m,B]]}),o})()},8562:(w,p,i)=>{i.d(p,{C:()=>t});var u=i(8259),g=i.n(u),f=i(7716),_=i(3423);let t=(()=>{class n{constructor(d){this.router=d,this.swalWithBootstrapButtons=g().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1})}sweetAlert(d,b,h,A,T,v,q,x,U,Z){return g().fire({title:d,text:b,input:h,inputPlaceholder:A,icon:T,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",showCancelButton:v,confirmButtonText:q,cancelButtonText:x,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}).then(y=>{y.value?Z.subscribe(s=>{null!=s?s.success?(this.swalWithBootstrapButtons.fire("Congratulations,!",`${s.message}`,"success"),this.reloadCurrentRoute()):this.swalWithBootstrapButtons.fire("Failed,!",`${s.message}`,"warning"):this.swalWithBootstrapButtons.fire("Failed,!","Server Error","error")},s=>{this.swalWithBootstrapButtons.fire("Failed,!",`${s}`,"error")}):y.dismiss===g().DismissReason.cancel?this.swalWithBootstrapButtons.fire("Cancelled","Your request to cancel this operation was processed successfully!","error"):Z.subscribe(s=>{s.success?(this.swalWithBootstrapButtons.fire("Congratulations,!",`${s.message}`,"success"),this.reloadCurrentRoute()):this.swalWithBootstrapButtons.fire("Failed,!",`${s.message}`,"warning")})})}reloadCurrentRoute(){let d=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([d])})}}return n.\u0275fac=function(d){return new(d||n)(f.LFG(_.F0))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);