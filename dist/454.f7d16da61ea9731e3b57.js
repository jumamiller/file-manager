"use strict";(self.webpackChunkadmin_development=self.webpackChunkadmin_development||[]).push([[454],{6454:(R,Z,c)=>{c.r(Z),c.d(Z,{ProjectModule:()=>k});var l=c(8583),p=c(3423),_=c(7037),d=c(5299),t=c(7716),u=c(5384),m=c(4142);const f=function(){return["/admin/projects/add-new-kogi-project"]};function T(o,n){1&o&&(t.TgZ(0,"p",12),t.TgZ(1,"a",13),t._uU(2,"Add New Projects"),t.qZA(),t.qZA()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,f)))}function v(o,n){1&o&&(t.TgZ(0,"th",8),t._uU(1,"View"),t.qZA())}function A(o,n){1&o&&(t.TgZ(0,"th",8),t._uU(1,"Edit"),t.qZA())}function q(o,n){1&o&&(t.TgZ(0,"th",8),t._uU(1,"Remove"),t.qZA())}function h(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"td",15),t.TgZ(1,"button",18),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.oxw(2).projectDetails(a.id)}),t._UZ(2,"i",19),t.qZA(),t.qZA()}}function x(o,n){1&o&&(t.TgZ(0,"td",15),t.TgZ(1,"button",20),t._UZ(2,"i",21),t.qZA(),t.qZA())}function C(o,n){1&o&&(t.TgZ(0,"td",15),t.TgZ(1,"button",22),t._UZ(2,"i",23),t.qZA(),t.qZA())}const s=function(o){return[o,"nav"]};function j(o,n){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td",14),t._uU(2),t.qZA(),t.TgZ(3,"td",14),t._uU(4),t.qZA(),t.TgZ(5,"td",14),t._uU(6),t.qZA(),t.TgZ(7,"td",14),t._uU(8),t.qZA(),t.TgZ(9,"td",14),t._uU(10),t.qZA(),t.TgZ(11,"td",14),t._uU(12),t.qZA(),t.TgZ(13,"td",14),t._uU(14),t.qZA(),t.TgZ(15,"td",14),t._uU(16),t.qZA(),t.TgZ(17,"td",15),t.TgZ(18,"span",16),t._uU(19,"upcoming"),t.qZA(),t.qZA(),t.YNc(20,h,3,0,"td",17),t.YNc(21,x,3,0,"td",17),t.YNc(22,C,3,0,"td",17),t.qZA()),2&o){const e=n.$implicit,i=n.index,a=t.oxw(2);t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.Oqu(e.category),t.xp6(2),t.Oqu(e.client),t.xp6(2),t.Oqu(e.start_date),t.xp6(2),t.Oqu(e.end_date),t.xp6(2),t.Oqu(e.total_duration),t.xp6(4),t.Q6J("appAccessControl",t.VKq(11,s,a.permissionType.VIEW_PROJECTS)),t.xp6(1),t.Q6J("appAccessControl",t.VKq(13,s,a.permissionType.EDIT_PROJECTS)),t.xp6(1),t.Q6J("appAccessControl",t.VKq(15,s,a.permissionType.DELETE_PROJECTS))}}function y(o,n){1&o&&(t.TgZ(0,"div",24),t._UZ(1,"div",25),t.qZA())}function U(o,n){if(1&o&&(t.TgZ(0,"div",1),t.YNc(1,T,3,2,"p",2),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t.TgZ(4,"h4",5),t._uU(5,"Kogi Projects"),t.qZA(),t.TgZ(6,"table",6),t.TgZ(7,"thead"),t.TgZ(8,"tr"),t.TgZ(9,"th",7),t._uU(10,"#"),t.qZA(),t.TgZ(11,"th",7),t._uU(12,"Name"),t.qZA(),t.TgZ(13,"th",7),t._uU(14,"Description"),t.qZA(),t.TgZ(15,"th",7),t._uU(16,"Category"),t.qZA(),t.TgZ(17,"th",7),t._uU(18,"Client"),t.qZA(),t.TgZ(19,"th",7),t._uU(20,"Start Date"),t.qZA(),t.TgZ(21,"th",7),t._uU(22,"End Date"),t.qZA(),t.TgZ(23,"th",7),t._uU(24,"Duration"),t.qZA(),t.TgZ(25,"th",8),t._uU(26,"Status"),t.qZA(),t.YNc(27,v,2,0,"th",9),t.YNc(28,A,2,0,"th",9),t.YNc(29,q,2,0,"th",9),t.qZA(),t.qZA(),t.TgZ(30,"tbody"),t.YNc(31,j,23,17,"tr",10),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(32,y,2,0,"div",11),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("appAccessControl",t.VKq(6,s,e.permissionType.CREATE_PROJECTS)),t.xp6(26),t.Q6J("appAccessControl",t.VKq(8,s,e.permissionType.VIEW_PROJECTS)),t.xp6(1),t.Q6J("appAccessControl",t.VKq(10,s,e.permissionType.EDIT_PROJECTS)),t.xp6(1),t.Q6J("appAccessControl",t.VKq(12,s,e.permissionType.DELETE_PROJECTS)),t.xp6(2),t.Q6J("ngForOf",e.projects),t.xp6(1),t.Q6J("ngIf",e.loading)}}const P=function(o){return[o,"page"]};let b=(()=>{class o{constructor(e,i){this.apiService=e,this.router=i,this.permissionType=d.v,this.projects=[],this.loading=!0}ngOnInit(){this.listOfProjects()}listOfProjects(){this.apiService.listOfProjects().subscribe(e=>{this.projects=e.data,this.loading=!1})}projectDetails(e){this.router.navigate(["admin/projects/kogi-projects-list/details/"],{queryParams:{project_id:`${e}`}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(u.s),t.Y36(p.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-projects-list"]],decls:1,vars:3,consts:[["class","content mat-elevation-z8",4,"appAccessControl"],[1,"content","mat-elevation-z8"],["class","text-right p-1 m-1",4,"appAccessControl"],[1,"citizens"],[1,"table-responsive"],[1,"text-center","text-dark"],[1,"table","table-striped","table-hover","table-bordered"],["scope","col"],["scope","col",1,"text-center"],["scope","col","class","text-center",4,"appAccessControl"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center my-1",4,"ngIf"],[1,"text-right","p-1","m-1"],[1,"btn","btn-danger",3,"routerLink"],[1,""],[1,"text-center"],[1,"badge","badge-success"],["class","text-center",4,"appAccessControl"],[1,"btn","btn-success",3,"click"],[1,"fas","fa-eye"],[1,"btn","btn-primary"],[1,"fas","fa-user-edit"],[1,"btn","btn-danger"],[1,"fas","fa-trash"],[1,"d-flex","justify-content-center","my-1"],["role","status","aria-hidden","true",1,"spinner-border"]],template:function(e,i){1&e&&t.YNc(0,U,33,14,"div",0),2&e&&t.Q6J("appAccessControl",t.VKq(1,P,i.permissionType.VIEW_PROJECTS))},directives:[m.J,l.sg,l.O5,p.yS],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}table[_ngcontent-%COMP%]{border:2px solid #333333;box-sizing:border-box}thead[_ngcontent-%COMP%]{background:#E1EAFB;font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}.table-totals[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:normal;font-size:18px;line-height:175.6%;color:#000}']}),o})();var g=c(9344),r=c(3679);function J(o,n){1&o&&(t.TgZ(0,"div",7),t._UZ(1,"div",8),t.qZA())}function S(o,n){if(1&o&&(t.TgZ(0,"form"),t.TgZ(1,"div",9),t.TgZ(2,"div",10),t.TgZ(3,"label"),t._uU(4,"Name"),t.qZA(),t._UZ(5,"input",11),t.qZA(),t.TgZ(6,"div",10),t.TgZ(7,"label"),t._uU(8,"Category"),t.qZA(),t._UZ(9,"input",11),t.qZA(),t.TgZ(10,"div",10),t.TgZ(11,"label"),t._uU(12,"Description"),t.qZA(),t._UZ(13,"textarea",12),t.qZA(),t.TgZ(14,"div",10),t.TgZ(15,"label"),t._uU(16,"Ministry"),t.qZA(),t._UZ(17,"input",11),t.qZA(),t.TgZ(18,"div",10),t.TgZ(19,"label"),t._uU(20,"Status"),t.qZA(),t._UZ(21,"input",11),t.qZA(),t.TgZ(22,"div",10),t.TgZ(23,"label"),t._uU(24,"Client"),t.qZA(),t._UZ(25,"input",11),t.qZA(),t.TgZ(26,"div",10),t.TgZ(27,"label"),t._uU(28,"Contractor"),t.qZA(),t._UZ(29,"input",11),t.qZA(),t.TgZ(30,"div",10),t.TgZ(31,"label"),t._uU(32,"Contractor Contacts"),t.qZA(),t._UZ(33,"input",11),t.qZA(),t.TgZ(34,"div",10),t.TgZ(35,"label"),t._uU(36,"Facilitator"),t.qZA(),t._UZ(37,"input",11),t.qZA(),t.TgZ(38,"div",10),t.TgZ(39,"label"),t._uU(40,"Facilitator Contacts"),t.qZA(),t._UZ(41,"input",11),t.qZA(),t.TgZ(42,"div",10),t.TgZ(43,"label"),t._uU(44,"Start Date"),t.qZA(),t._UZ(45,"input",11),t.qZA(),t.TgZ(46,"div",10),t.TgZ(47,"label"),t._uU(48,"End Date"),t.qZA(),t._UZ(49,"input",11),t.qZA(),t.TgZ(50,"div",10),t.TgZ(51,"label"),t._uU(52,"Duration"),t.qZA(),t._UZ(53,"input",11),t.qZA(),t.TgZ(54,"div",10),t.TgZ(55,"label"),t._uU(56,"Added On:"),t.qZA(),t._UZ(57,"input",11),t.ALo(58,"date"),t.qZA(),t.qZA(),t.qZA()),2&o){const e=t.oxw(2);t.xp6(5),t.Q6J("value",e.project.name),t.xp6(4),t.Q6J("value",e.project.category),t.xp6(4),t.Q6J("value",e.project.description),t.xp6(4),t.Q6J("value",e.project.ministry),t.xp6(4),t.Q6J("value",e.project.status),t.xp6(4),t.Q6J("value",e.project.client),t.xp6(4),t.Q6J("value",e.project.contractor),t.xp6(4),t.Q6J("value",e.project.contractor_contacts),t.xp6(4),t.Q6J("value",e.project.facilitator_name),t.xp6(4),t.Q6J("value",e.project.facilitator_contacts),t.xp6(4),t.Q6J("value",e.project.start_date),t.xp6(4),t.Q6J("value",e.project.end_date),t.xp6(4),t.Q6J("value",e.project.total_duration),t.xp6(4),t.Q6J("value",t.lcZ(58,14,e.project.created_at))}}function N(o,n){if(1&o&&(t.TgZ(0,"div",1),t.YNc(1,J,2,0,"div",2),t.TgZ(2,"div",3),t.TgZ(3,"div",4),t.TgZ(4,"p",5),t._uU(5),t.qZA(),t.qZA(),t.YNc(6,S,59,16,"form",6),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.loading),t.xp6(4),t.hij("",e.project.name," Details"),t.xp6(1),t.Q6J("ngIf",e.project)}}const O=function(o){return[o,"page"]};let E=(()=>{class o{constructor(e,i,a){this.route=e,this.apiService=i,this.toastrService=a,this.permissionType=d.v,this.loading=!0}ngOnInit(){this.projectId=this.route.snapshot.queryParamMap.get("project_id"),this.getCurrentProjectDetails()}getCurrentProjectDetails(){this.apiService.singleProjectDetails(this.projectId).subscribe(e=>{e.success?(this.project=e.data,this.toastrService.success(e.message,"Success"),this.loading=!1):this.toastrService.warning(e.message,"Failed")},e=>{this.toastrService.error(e.errors.message,"Error")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(p.gz),t.Y36(u.s),t.Y36(g._W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-single-project-details"]],decls:1,vars:3,consts:[["class","mat-elevation-z8 content",4,"appAccessControl"],[1,"mat-elevation-z8","content"],["class","d-flex justify-content-center my-1",4,"ngIf"],[1,"m-5"],[1,"text-center","mt-2"],[1,""],[4,"ngIf"],[1,"d-flex","justify-content-center","my-1"],["role","status","aria-hidden","true",1,"spinner-border"],[1,"form-row"],[1,"col-md-4"],["type","text",1,"form-control",3,"value"],[1,"form-control","text-lowercase",3,"value"]],template:function(e,i){1&e&&t.YNc(0,N,7,3,"div",0),2&e&&t.Q6J("appAccessControl",t.VKq(1,O,i.permissionType.VIEW_PROJECTS))},directives:[m.J,l.O5,r._Y,r.JL],pipes:[l.uU],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}label[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:20px;line-height:36px;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:600;font-size:18px;line-height:27px;color:#b7b7b7}p[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:600;font-size:20px;line-height:48px;color:#1c416d}']}),o})();function w(o,n){1&o&&(t.TgZ(0,"div",39),t.TgZ(1,"button",40),t._uU(2,"Add New Project"),t.qZA(),t.qZA())}const I=function(o){return[o,"nav"]};function Q(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"h2",2),t._uU(2,"Add New Project"),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"form",4),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().onSubmit()}),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.TgZ(7,"label",7),t._uU(8,"Name"),t.qZA(),t._UZ(9,"input",8),t.qZA(),t.TgZ(10,"div",6),t.TgZ(11,"label",9),t._uU(12,"Description"),t.qZA(),t._UZ(13,"input",10),t.qZA(),t.TgZ(14,"div",6),t.TgZ(15,"label",11),t._uU(16,"Category"),t.qZA(),t._UZ(17,"input",12),t.qZA(),t.TgZ(18,"div",6),t.TgZ(19,"label",13),t._uU(20,"Project Status"),t.qZA(),t.TgZ(21,"select",14),t.TgZ(22,"option",15),t._uU(23,"Upcoming"),t.qZA(),t.TgZ(24,"option",16),t._uU(25,"In Progress"),t.qZA(),t.TgZ(26,"option",17),t._uU(27,"Completed"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",6),t.TgZ(29,"label",18),t._uU(30,"Client"),t.qZA(),t._UZ(31,"input",19),t.qZA(),t.TgZ(32,"div",6),t.TgZ(33,"label",20),t._uU(34,"Contractor"),t.qZA(),t._UZ(35,"input",21),t.qZA(),t.TgZ(36,"div",6),t.TgZ(37,"label",22),t._uU(38," Contractor Contacts"),t.qZA(),t._UZ(39,"input",23),t.qZA(),t.TgZ(40,"div",6),t.TgZ(41,"label",24),t._uU(42,"Facilitator"),t.qZA(),t._UZ(43,"input",25),t.qZA(),t.TgZ(44,"div",6),t.TgZ(45,"label",26),t._uU(46,"Facilitator Contacts"),t.qZA(),t._UZ(47,"input",27),t.qZA(),t.TgZ(48,"div",6),t.TgZ(49,"label",28),t._uU(50,"Ministry"),t.qZA(),t._UZ(51,"input",29),t.qZA(),t.TgZ(52,"div",6),t.TgZ(53,"label",30),t._uU(54,"Expected Start Date"),t.qZA(),t._UZ(55,"input",31),t.qZA(),t.TgZ(56,"div",6),t.TgZ(57,"label",32),t._uU(58,"Expected End Date"),t.qZA(),t._UZ(59,"input",33),t.qZA(),t.TgZ(60,"div",6),t.TgZ(61,"label",34),t._uU(62,"Total Duration"),t.qZA(),t._UZ(63,"input",35),t.qZA(),t.TgZ(64,"div",6),t.TgZ(65,"label",36),t._uU(66,"Banner Images"),t.qZA(),t._UZ(67,"input",37),t.qZA(),t.qZA(),t.YNc(68,w,3,0,"div",38),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.projectForm),t.xp6(64),t.Q6J("appAccessControl",t.VKq(2,I,e.permissionType.CREATE_PROJECTS))}}const D=function(o){return[o,"page"]};let M=(()=>{class o{constructor(e,i,a){this.formBuilder=e,this.toatrService=i,this.apiService=a,this.permissionType=d.v}ngOnInit(){this.projectFormControls()}projectFormControls(){this.projectForm=this.formBuilder.group({name:["",r.kI.required],description:["",r.kI.required],category:["",r.kI.required],project_image:["",r.kI.required],client:["",r.kI.required],contractor:["",r.kI.required],contractor_contacts:["",r.kI.required],facilitator_name:["",r.kI.required],facilitator_contacts:["",r.kI.required],ministry:["",r.kI.required],total_duration:["",r.kI.required],start_date:["",r.kI.required],end_date:["",r.kI.required],status:[""]})}get form(){return this.projectForm.controls}onSubmit(){this.apiService.createNewProjects({category:this.form.category.value,client:this.form.client.value,contractor:this.form.contractor.value,contractor_contacts:this.form.contractor_contacts.value,description:this.form.description.value,end_date:this.form.end_date.value,facilitator_contacts:this.form.facilitator_contacts.value,facilitator_name:this.form.facilitator_name.value,project_image:this.form.project_image.value,status:"upcoming",ministry:this.form.ministry.value,name:this.form.name.value,start_date:this.form.start_date.value,total_duration:this.form.total_duration.value}).subscribe(i=>{i?this.toatrService.success("You have successfully added a new project"):this.toatrService.error("Something went wrong while adding project,try again later","Failed")},i=>{this.toatrService.error(i.errors.message)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(g._W),t.Y36(u.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-new-project"]],decls:1,vars:3,consts:[["class","content mat-elevation-z8",4,"appAccessControl"],[1,"content","mat-elevation-z8"],[1,"text-center","text-dark"],[1,"add-new-user"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"form-row","m-3"],[1,"col-md-4"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Agriculture","required","",1,"form-control"],["for","description"],["type","text","id","description","formControlName","description","placeholder","","required","",1,"form-control"],["for","category"],["type","text","id","category","formControlName","category","placeholder","","required","",1,"form-control"],["for","status"],["formControlName","status","id","status",1,"custom-select"],["value","upcoming"],["value","in-progress"],["value","completed"],["for","client"],["type","text","id","client","formControlName","client","placeholder","","required","",1,"form-control"],["for","contractor"],["type","text","id","contractor","formControlName","contractor","placeholder","","required","",1,"form-control"],["for","contractor-contacts"],["type","text","id","contractor-contacts","formControlName","contractor_contacts","placeholder","","required","",1,"form-control"],["for","facilitator"],["type","text","id","facilitator","formControlName","facilitator_name","placeholder","","required","",1,"form-control"],["for","facilitator-contacts"],["type","text","id","facilitator-contacts","name","facilitator_contacts","placeholder","","required","",1,"form-control"],["for","ministry"],["type","text","id","ministry","formControlName","ministry","placeholder","","required","",1,"form-control"],["for","start-date"],["type","date","id","start-date","formControlName","start_date","placeholder","","required","",1,"form-control"],["for","end-date"],["type","date","id","end-date","formControlName","end_date","placeholder","","required","",1,"form-control"],["for","total-duration"],["type","text","id","total-duration","formControlName","total_duration","placeholder","","required","",1,"form-control"],["for","project_image"],["type","file","id","project_image","multiple","","formControlName","project_image","placeholder","","required","",1,"form-control-file"],["class","submission m-4 text-right",4,"appAccessControl"],[1,"submission","m-4","text-right"],[1,"btn","btn-danger"]],template:function(e,i){1&e&&t.YNc(0,Q,69,4,"div",0),2&e&&t.Q6J("appAccessControl",t.VKq(1,D,i.permissionType.CREATE_PROJECTS))},directives:[m.J,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.Q7,r.EJ,r.YN,r.Kr],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}label[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:20px;line-height:36px;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:600;font-size:18px;line-height:27px;color:#b7b7b7}']}),o})();var Y=c(8668);const F=[{path:"",component:_.k,canActivate:[Y.a],children:[{path:"kogi-projects-list",component:b},{path:"kogi-projects-list/details",component:E},{path:"add-new-kogi-project",component:M}]}];let z=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(F)],p.Bz]}),o})();var L=c(4466);let k=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,z,L.m]]}),o})()}}]);