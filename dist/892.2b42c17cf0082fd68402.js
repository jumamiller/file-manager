"use strict";(self.webpackChunkadmin_development=self.webpackChunkadmin_development||[]).push([[892],{4892:(I,g,i)=>{i.r(g),i.d(g,{LocalGovernmentsModule:()=>O});var l=i(8583),c=i(3423),v=i(7037),A=i(2340),t=i(7716),d=i(5384);function b(e,a){if(1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"td",11),t._uU(2),t.qZA(),t.TgZ(3,"td",12),t._UZ(4,"img",13),t.qZA(),t.TgZ(5,"td",11),t._uU(6),t.qZA(),t.TgZ(7,"td",11),t._uU(8),t.qZA(),t.TgZ(9,"td",14),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td",14),t._uU(13),t.ALo(14,"number"),t.qZA(),t.TgZ(15,"td",12),t.TgZ(16,"button",15),t._UZ(17,"i",16),t.qZA(),t.qZA(),t.TgZ(18,"td",12),t.TgZ(19,"button",17),t._UZ(20,"i",18),t.qZA(),t.qZA(),t.TgZ(21,"td",12),t.TgZ(22,"button",19),t._UZ(23,"i",20),t.qZA(),t.qZA(),t.qZA()),2&e){const n=a.$implicit,o=a.index,s=t.oxw();t.xp6(2),t.Oqu(o+1),t.xp6(2),t.Q6J("src",s.imageUrl+n.LGA_avatar,t.LSH),t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(n.state),t.xp6(2),t.Oqu(t.lcZ(11,6,n.population)),t.xp6(3),t.hij("",t.lcZ(14,8,n.area),"KM2")}}function T(e,a){1&e&&(t.TgZ(0,"div",21),t._UZ(1,"div",22),t.qZA())}const q=function(){return["/admin/local-government-area/add-local-government"]};let L=(()=>{class e{constructor(n){this.apiService=n,this.loading=!0,this.imageUrl=A.N.ASSETS_URL}ngOnInit(){this.getLGAs()}getLGAs(){this.apiService.getLocalGovernments().subscribe(n=>{this.lgas=n.data,this.loading=!1})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.s))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-local-governments"]],decls:32,vars:4,consts:[[1,"content","mat-elevation-z8"],[1,"m-1","p-1","text-right"],[1,"btn","btn-danger","text-right","mt-2","ml-5",3,"routerLink"],[1,"citizens"],[1,"table-responsive"],[1,"text-center","text-dark"],[1,"table","table-striped","table-hover","table-bordered"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center my-1",4,"ngIf"],[1,""],[1,"text-center"],["width","60","height","60","alt","LGA",1,"rounded-circle",3,"src"],[1,"text-right"],[1,"btn","btn-success"],[1,"fas","fa-eye"],[1,"btn","btn-primary"],[1,"fas","fa-user-edit"],[1,"btn","btn-danger"],[1,"fas","fa-trash"],[1,"d-flex","justify-content-center","my-1"],["role","status","aria-hidden","true",1,"spinner-border"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"p",1),t.TgZ(2,"a",2),t._uU(3,"Add Local Government Area"),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"h4",5),t._uU(7,"Kogi Local Governments"),t.qZA(),t.TgZ(8,"table",6),t.TgZ(9,"thead"),t.TgZ(10,"tr"),t.TgZ(11,"th",7),t._uU(12,"#"),t.qZA(),t.TgZ(13,"th",8),t._uU(14,"LGA Image"),t.qZA(),t.TgZ(15,"th",8),t._uU(16,"Name"),t.qZA(),t.TgZ(17,"th",8),t._uU(18,"State"),t.qZA(),t.TgZ(19,"th",8),t._uU(20,"Population"),t.qZA(),t.TgZ(21,"th",8),t._uU(22,"Area"),t.qZA(),t.TgZ(23,"th",8),t._uU(24,"View"),t.qZA(),t.TgZ(25,"th",8),t._uU(26,"Edit"),t.qZA(),t.TgZ(27,"th",8),t._uU(28,"Remove"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"tbody"),t.YNc(30,b,24,10,"tr",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(31,T,2,0,"div",10),t.qZA()),2&n&&(t.xp6(2),t.Q6J("routerLink",t.DdM(3,q)),t.xp6(28),t.Q6J("ngForOf",o.lgas),t.xp6(1),t.Q6J("ngIf",o.loading))},directives:[c.yS,l.sg,l.O5],pipes:[l.JJ],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}table[_ngcontent-%COMP%]{border:2px solid #333333;box-sizing:border-box}thead[_ngcontent-%COMP%]{background:#E1EAFB;font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}.table-totals[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:normal;font-size:18px;line-height:175.6%;color:#000}']}),e})();var r=i(3679),x=i(3815),y=i(9344);function _(e,a){1&e&&(t.TgZ(0,"button",24),t._uU(1,"Add Local Government Area"),t.qZA())}function G(e,a){1&e&&(t.TgZ(0,"button",25),t._uU(1,"Adding Local Government Area..."),t.qZA())}const C=[{path:"",component:v.k,children:[{path:"list-governments",component:L},{path:"add-local-government",component:(()=>{class e{constructor(n,o,s){this.fb=n,this.apiService=o,this.toastrService=s,this.submitting=!1}ngOnInit(){this.LGAForm=this.fb.group({name:["",[r.kI.required]],area:["",[r.kI.required]],population:["",[r.kI.required]],state:["",[r.kI.required]],country:["",[r.kI.required]],history:[""],chairman:["",r.kI.required],chairman_message:[""]})}get form(){return this.LGAForm.controls}onSubmit(){this.submitting=!0,this.apiService.addLocalGovernments({area:this.form.area.value,chairman_message:this.form.chairman_message.value,country:this.form.country.value,history:this.form.history.value,name:this.form.name.value,population:this.form.population.value,state:this.form.state.value,LGA_avatar:this.cardImageBase64}).subscribe(o=>{o.success?(this.toastrService.success(o.message,"Success"),this.submitting=!1):(this.toastrService.warning(o.message,"Failed"),this.submitting=!1)},o=>{this.toastrService.error(o.error.message,"Error"),this.submitting=!1})}handleFileInput(n){if(this.imageError=null,n.target.files&&n.target.files[0]){const o=20971520,s=["image/png","image/jpeg"],m=15200,u=25600;if(n.target.files[0].size>o)return this.imageError="Maximum size allowed is "+o/1e3+"Mb",this.toastrService.error(this.imageError,"Error"),!1;if(!x.includes(s,n.target.files[0].type))return this.imageError="Only Images are allowed ( JPG | PNG )",this.toastrService.error(this.imageError,"Error"),!1;const Z=new FileReader;Z.onload=p=>{const f=new Image;f.src=p.target.result,f.onload=h=>{if(h.currentTarget.height>m&&h.currentTarget.width>u)return this.imageError="Maximum dimensions allowed "+m+"*"+u+"px",!1;this.cardImageBase64=p.target.result,this.isImageSaved=!0}},Z.readAsDataURL(n.target.files[0])}}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.qu),t.Y36(d.s),t.Y36(y._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-local-governments"]],decls:44,vars:3,consts:[[1,"content","mat-elevation-z8"],[1,"text-center","text-dark"],[1,"add-new-user"],[3,"formGroup","ngSubmit"],[1,"form-row","m-3"],[1,"col-md-4"],["for","name"],["type","text","id","name","formControlName","name","placeholder","","required","",1,"form-control"],["for","area"],["type","number","id","area","formControlName","area","placeholder","","required","",1,"form-control"],["type","text","id","state","formControlName","state","placeholder","","required","",1,"form-control"],["type","text","id","country","formControlName","country","placeholder","","required","",1,"form-control"],["for","LGA_avatar"],["type","file","id","LGA_avatar","placeholder","","required","",1,"form-control-file",3,"change"],["for","population"],["type","number","id","population","formControlName","population","placeholder","","required","",1,"form-control"],[1,"col-md-12"],["for","chairman_message"],["cols","5","rows","5","id","chairman_message","formControlName","chairman_message",1,"form-control"],["for","history"],["id","history","cols","7","rows","7","id","=history","formControlName","history",1,"form-control"],[1,"m-5","text-right"],["class","btn btn-danger mb-2",4,"ngIf"],["class","btn btn-success mb-2",4,"ngIf"],[1,"btn","btn-danger","mb-2"],[1,"btn","btn-success","mb-2"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"h2",1),t._uU(2,"New Local Government Area"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(5,"div",4),t.TgZ(6,"div",5),t.TgZ(7,"label",6),t._uU(8,"Name"),t.qZA(),t._UZ(9,"input",7),t.qZA(),t.TgZ(10,"div",5),t.TgZ(11,"label",8),t._uU(12,"Area"),t.qZA(),t._UZ(13,"input",9),t.qZA(),t.TgZ(14,"div",5),t.TgZ(15,"label",6),t._uU(16,"State"),t.qZA(),t._UZ(17,"input",10),t.qZA(),t.qZA(),t.TgZ(18,"div",4),t.TgZ(19,"div",5),t.TgZ(20,"label",8),t._uU(21,"Country"),t.qZA(),t._UZ(22,"input",11),t.qZA(),t.TgZ(23,"div",5),t.TgZ(24,"label",12),t._uU(25,"LGA Photo"),t.qZA(),t.TgZ(26,"input",13),t.NdJ("change",function(m){return o.handleFileInput(m)}),t.qZA(),t.qZA(),t.TgZ(27,"div",5),t.TgZ(28,"label",14),t._uU(29,"LGA Population"),t.qZA(),t._UZ(30,"input",15),t.qZA(),t.qZA(),t.TgZ(31,"div",4),t.TgZ(32,"div",16),t.TgZ(33,"label",17),t._uU(34,"Chairman Message"),t.qZA(),t._UZ(35,"textarea",18),t.qZA(),t.qZA(),t.TgZ(36,"div",4),t.TgZ(37,"div",16),t.TgZ(38,"label",19),t._uU(39,"LGA History"),t.qZA(),t._UZ(40,"textarea",20),t.qZA(),t.qZA(),t.TgZ(41,"div",21),t.YNc(42,_,2,0,"button",22),t.YNc(43,G,2,0,"button",23),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(4),t.Q6J("formGroup",o.LGAForm),t.xp6(38),t.Q6J("ngIf",!o.submitting),t.xp6(1),t.Q6J("ngIf",o.submitting))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,r.Q7,r.wV,l.O5],styles:['.content[_ngcontent-%COMP%]{height:auto;border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}label[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:20px;line-height:36px;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:600;font-size:18px;line-height:27px;color:#b7b7b7}']}),e})()}]}];let S=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.Bz.forChild(C)],c.Bz]}),e})();var M=i(4466);let O=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,M.m,S]]}),e})()}}]);