"use strict";(self.webpackChunkadmin_development=self.webpackChunkadmin_development||[]).push([[990],{2990:(w,g,r)=>{r.r(g),r.d(g,{CategoryModule:()=>B});var d=r(8583),l=r(3423),u=r(7037),y=r(8668),t=r(7716);let c=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-category"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"add-category works!"),t.qZA())},styles:[""]}),o})();var C=r(5384),a=r(3679),h=r(8562);function Z(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td",12),t._uU(2),t.qZA(),t.TgZ(3,"td",12),t._uU(4),t.qZA(),t.TgZ(5,"td",12),t._uU(6),t.qZA(),t.TgZ(7,"td",13),t.TgZ(8,"button",14),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw().onCategoryClick(x)}),t._UZ(9,"i",15),t.qZA(),t.qZA(),t.TgZ(10,"td",13),t.TgZ(11,"button",16),t.NdJ("click",function(){const x=t.CHM(e).$implicit;return t.oxw().removeCategory(x.id)}),t._UZ(12,"i",17),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=n.$implicit,i=n.index;t.xp6(2),t.Oqu(i+1),t.xp6(2),t.Oqu(e.category_name),t.xp6(2),t.Oqu(e.category_description||"No description found")}}function _(o,n){1&o&&(t.TgZ(0,"div",18),t._UZ(1,"div",19),t.qZA())}function A(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",20),t.TgZ(1,"div",21),t.TgZ(2,"div",22),t.TgZ(3,"div",23),t.TgZ(4,"h1",24),t._uU(5),t.qZA(),t.TgZ(6,"button",25),t.TgZ(7,"span",26),t._uU(8,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(9,"div",27),t.TgZ(10,"form",28),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().onCategoryEdit()}),t.TgZ(11,"div",29),t.TgZ(12,"label"),t._uU(13,"Name"),t.qZA(),t._UZ(14,"input",30),t.qZA(),t.TgZ(15,"div",29),t.TgZ(16,"label"),t._uU(17,"Description"),t.qZA(),t._UZ(18,"input",31),t.qZA(),t.TgZ(19,"div",32),t.TgZ(20,"button",33),t._uU(21,"Close"),t.qZA(),t.TgZ(22,"button",34),t._uU(23),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(5),t.Oqu(e.selectedCategory.category_name),t.xp6(5),t.Q6J("formGroup",e.editCategoryForm),t.xp6(4),t.Q6J("placeholder",e.selectedCategory.category_name),t.xp6(4),t.Q6J("placeholder",e.selectedCategory.category_description),t.xp6(5),t.hij("Update ",e.selectedCategory.category_name,"")}}const b=function(){return["/admin/official-categories/add-local-government"]},m=[{path:"",component:u.k,canActivate:[y.a],children:[{path:"add-new-category",component:c},{path:"category-list",component:(()=>{class o{constructor(e,i,f){this.apiService=e,this.fb=i,this.comfirmationAlert=f,this.loading=!0}ngOnInit(){this.getCategories(),this.editFormControls()}getCategories(){this.apiService.getCategories().subscribe(e=>{this.categories=e.data,this.loading=!1},e=>{console.log(e)})}editFormControls(){this.editCategoryForm=this.fb.group({category_name:[""],category_description:[""]})}get form(){return this.editCategoryForm.controls}removeCategory(e){this.comfirmationAlert.sweetAlert("Are you sure?","Deleting a category is an irreversible process and will affect the associated official Kogas","","","question",!0,"Yes, Delete Category!","No, Cancel","",this.apiService.removeCategory(e))}onCategoryClick(e){this.selectedCategory=e}onCategoryEdit(){this.comfirmationAlert.sweetAlert("Are you sure?","Editing a category will reflect on the associated officials","","","question",!0,"Yes, Update Category!","No, Cancel","",this.apiService.updateCategories({category_name:this.form.category_name.value,category_description:this.form.category_description.value},this.selectedCategory.id))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.s),t.Y36(a.qu),t.Y36(h.C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-category-list"]],decls:25,vars:5,consts:[[1,"content","mat-elevation-z8"],[1,"m-1","p-1","text-right"],[1,"btn","btn-danger","text-right","mt-2","ml-5",3,"routerLink"],[1,"citizens"],[1,"table-responsive"],[1,"text-center","text-dark"],[1,"table","table-striped","table-hover","table-bordered"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center my-1",4,"ngIf"],["class","modal fade","data-backdrop","false","id","viewLGA","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",4,"ngIf"],[1,""],[1,"text-center"],["data-target","#viewLGA","data-toggle","modal",1,"btn","btn-success",3,"click"],[1,"fas","fa-edit"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"],[1,"d-flex","justify-content-center","my-1"],["role","status","aria-hidden","true",1,"spinner-border"],["data-backdrop","false","id","viewLGA","tabindex","-1","role","dialog","aria-labelledby","editRoleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","viewLGAModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","formControlName","category_name",1,"form-control",3,"placeholder"],["type","text","formControlName","category_description",1,"form-control",3,"placeholder"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],["type","submit",1,"btn","btn-success"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"p",1),t.TgZ(2,"a",2),t._uU(3,"Add Officials Category"),t.qZA(),t.qZA(),t.TgZ(4,"div",3),t.TgZ(5,"div",4),t.TgZ(6,"h4",5),t._uU(7,"Kogi State Categories"),t.qZA(),t.TgZ(8,"table",6),t.TgZ(9,"thead"),t.TgZ(10,"tr"),t.TgZ(11,"th",7),t._uU(12,"#"),t.qZA(),t.TgZ(13,"th",8),t._uU(14,"Name"),t.qZA(),t.TgZ(15,"th",8),t._uU(16,"Description"),t.qZA(),t.TgZ(17,"th",8),t._uU(18,"Edit"),t.qZA(),t.TgZ(19,"th",8),t._uU(20,"Remove"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(21,"tbody"),t.YNc(22,Z,13,3,"tr",9),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(23,_,2,0,"div",10),t.qZA(),t.YNc(24,A,24,5,"div",11)),2&e&&(t.xp6(2),t.Q6J("routerLink",t.DdM(4,b)),t.xp6(20),t.Q6J("ngForOf",i.categories),t.xp6(1),t.Q6J("ngIf",i.loading),t.xp6(1),t.Q6J("ngIf",i.selectedCategory))},directives:[l.yS,d.sg,d.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}table[_ngcontent-%COMP%]{border:2px solid #333333;box-sizing:border-box}thead[_ngcontent-%COMP%]{background:#E1EAFB;font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}.table-totals[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:normal;font-size:18px;line-height:175.6%;color:#000}']}),o})()},{path:"add-new-sub-category",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-sub-category"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"add-sub-category works!"),t.qZA())},styles:[""]}),o})()},{path:"sub-category-list",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-sub-category-list"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"sub-category-list works!"),t.qZA())},styles:[""]}),o})()}]}];let p=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Bz.forChild(m)],l.Bz]}),o})();var s=r(4466);let B=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,s.m,p]]}),o})()},8562:(w,g,r)=>{r.d(g,{C:()=>t});var d=r(8259),l=r.n(d),u=r(7716),y=r(3423);let t=(()=>{class c{constructor(a){this.router=a,this.swalWithBootstrapButtons=l().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1})}sweetAlert(a,h,Z,_,A,b,v,T,q,m){return l().fire({title:a,text:h,input:Z,inputPlaceholder:_,icon:A,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",showCancelButton:b,confirmButtonText:v,cancelButtonText:T,showClass:{popup:"animate__animated animate__fadeInDown"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}).then(p=>{p.value?m.subscribe(s=>{null!=s?s.success?(this.swalWithBootstrapButtons.fire("Congratulations,!",`${s.message}`,"success"),this.reloadCurrentRoute()):this.swalWithBootstrapButtons.fire("Failed,!",`${s.message}`,"warning"):this.swalWithBootstrapButtons.fire("Failed,!","Server Error","error")},s=>{this.swalWithBootstrapButtons.fire("Failed,!",`${s}`,"error")}):p.dismiss===l().DismissReason.cancel?this.swalWithBootstrapButtons.fire("Cancelled","Your request to cancel this operation was processed successfully!","error"):m.subscribe(s=>{s.success?(this.swalWithBootstrapButtons.fire("Congratulations,!",`${s.message}`,"success"),this.reloadCurrentRoute()):this.swalWithBootstrapButtons.fire("Failed,!",`${s.message}`,"warning")})})}reloadCurrentRoute(){let a=this.router.url;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([a])})}}return c.\u0275fac=function(a){return new(a||c)(u.LFG(y.F0))},c.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);