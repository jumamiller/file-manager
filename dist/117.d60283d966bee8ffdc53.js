"use strict";(self.webpackChunkadmin_development=self.webpackChunkadmin_development||[]).push([[117],{4117:(F,g,r)=>{r.r(g),r.d(g,{NewsModule:()=>S});var d=r(8583),c=r(3423),A=r(7037),e=r(7716),m=r(5384),u=r(9344);function v(t,i){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",11),e._uU(2),e.qZA(),e.TgZ(3,"td",11),e._uU(4),e.qZA(),e.TgZ(5,"td",11),e._uU(6),e.qZA(),e.TgZ(7,"td",11),e._uU(8),e.qZA(),e.TgZ(9,"td",12),e.TgZ(10,"button",13),e._UZ(11,"i",14),e.qZA(),e.qZA(),e.TgZ(12,"td",12),e.TgZ(13,"button",15),e._UZ(14,"i",16),e.qZA(),e.qZA(),e.TgZ(15,"td",12),e.TgZ(16,"button",17),e._UZ(17,"i",18),e.qZA(),e.qZA(),e.qZA()),2&t){const n=i.$implicit,o=i.index;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(n.title),e.xp6(2),e.Oqu(n.description),e.xp6(2),e.Oqu(n.target_audience)}}function T(t,i){1&t&&(e.TgZ(0,"div",19),e._UZ(1,"div",20),e.qZA())}const b=function(){return["/admin/news/add-news"]};let q=(()=>{class t{constructor(n,o){this.apiService=n,this.toastrService=o,this.loading=!0}ngOnInit(){this.getNews()}getNews(){this.apiService.getNews().subscribe(n=>{this.news=n.data,this.loading=!1})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.s),e.Y36(u._W))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-news-list"]],decls:28,vars:4,consts:[[1,"content","mat-elevation-z8"],[1,"m-1","p-1","text-right"],[1,"btn","btn-danger",3,"routerLink"],[1,"citizens"],[1,"table-responsive"],[1,"text-center","text-dark"],[1,"table","table-striped","table-hover","table-bordered"],["scope","col"],["scope","col",1,"text-center"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-center my-1",4,"ngIf"],[1,""],[1,"text-center"],[1,"btn","btn-success"],[1,"fas","fa-eye"],[1,"btn","btn-primary"],[1,"fas","fa-user-edit"],[1,"btn","btn-danger"],[1,"fas","fa-trash"],[1,"d-flex","justify-content-center","my-1"],["role","status","aria-hidden","true",1,"spinner-border"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"p",1),e.TgZ(2,"a",2),e._uU(3,"Create News/ Events"),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"h4",5),e._uU(7,"Kogi News & Events"),e.qZA(),e.TgZ(8,"table",6),e.TgZ(9,"thead"),e.TgZ(10,"tr"),e.TgZ(11,"th",7),e._uU(12,"#"),e.qZA(),e.TgZ(13,"th",7),e._uU(14,"Title"),e.qZA(),e.TgZ(15,"th",7),e._uU(16,"Description"),e.qZA(),e.TgZ(17,"th",7),e._uU(18,"Target Audience"),e.qZA(),e.TgZ(19,"th",8),e._uU(20,"View"),e.qZA(),e.TgZ(21,"th",8),e._uU(22,"Edit"),e.qZA(),e.TgZ(23,"th",8),e._uU(24,"Remove"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(25,"tbody"),e.YNc(26,v,18,4,"tr",9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(27,T,2,0,"div",10),e.qZA()),2&n&&(e.xp6(2),e.Q6J("routerLink",e.DdM(3,b)),e.xp6(24),e.Q6J("ngForOf",o.news),e.xp6(1),e.Q6J("ngIf",o.loading))},directives:[c.yS,d.sg,d.O5],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}table[_ngcontent-%COMP%]{border:2px solid #333333;box-sizing:border-box}thead[_ngcontent-%COMP%]{background:#E1EAFB;font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:16px;line-height:175.6%;color:#333}.table-totals[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:normal;font-size:18px;line-height:175.6%;color:#000}']}),t})(),x=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-single-news-details"]],decls:2,vars:0,template:function(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1,"single-news-details works!"),e.qZA())},styles:[""]}),t})();var s=r(3679),N=r(3815);let y=(()=>{class t{constructor(n,o,a){this.apiService=n,this.toastrService=o,this.formBuilder=a,this.loading=!0}ngOnInit(){this.newsFormControls()}newsFormControls(){this.newsForm=this.formBuilder.group({title:["",[s.kI.required]],description:["",[s.kI.required]],target_audience:["",[s.kI.required]]})}get form(){return this.newsForm.controls}onNewsSubmit(){this.apiService.addNews({description:this.form.description.value,target_audience:this.form.target_audience.value,title:this.form.title.value,banner_image:this.cardImageBase64}).subscribe(o=>{o?this.toastrService.success(o.message):this.toastrService.error(o.message,"Failed")},o=>{this.toastrService.error(o.error.message,"Error")})}handleFileInput(n){if(this.imageError=null,n.target.files&&n.target.files[0]){const o=20971520,a=["image/png","image/jpeg"],l=15200,p=25600;if(n.target.files[0].size>o)return this.imageError="Maximum size allowed is "+o/1e3+"Mb",this.toastrService.error(this.imageError,"Error"),!1;if(!N.includes(a,n.target.files[0].type))return this.imageError="Only Images are allowed ( JPG | PNG )",this.toastrService.error(this.imageError,"Error"),!1;const f=new FileReader;f.onload=Z=>{const h=new Image;h.src=Z.target.result,h.onload=w=>{if(w.currentTarget.height>l&&w.currentTarget.width>p)return this.imageError="Maximum dimensions allowed "+l+"*"+p+"px",!1;this.cardImageBase64=Z.target.result,this.isImageSaved=!0}},f.readAsDataURL(n.target.files[0])}}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.s),e.Y36(u._W),e.Y36(s.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-add-news"]],decls:25,vars:1,consts:[[1,"content","mat-elevation-z8"],[1,"text-center","text-dark"],[1,"add-new-user"],[3,"formGroup","ngSubmit"],[1,"form-row","m-3"],[1,"col-md-4"],["for","title"],["type","text","id","title","formControlName","title","placeholder","Agriculture","required","",1,"form-control"],["for","description"],["type","text","id","description","formControlName","description","placeholder","","required","",1,"form-control"],["for","target_audience"],["type","text","id","target_audience","formControlName","target_audience","placeholder","","required","",1,"form-control"],["for","news_banner"],["type","file","id","news_banner","required","",1,"form-control-file",3,"change"],[1,"submission","m-4","text-right"],[1,"btn","btn-danger"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"h2",1),e._uU(2,"Add News/Events"),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"form",3),e.NdJ("ngSubmit",function(){return o.onNewsSubmit()}),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"label",6),e._uU(8,"Title"),e.qZA(),e._UZ(9,"input",7),e.qZA(),e.TgZ(10,"div",5),e.TgZ(11,"label",8),e._uU(12,"Description"),e.qZA(),e._UZ(13,"input",9),e.qZA(),e.TgZ(14,"div",5),e.TgZ(15,"label",10),e._uU(16,"Target Audience"),e.qZA(),e._UZ(17,"input",11),e.qZA(),e.TgZ(18,"div",5),e.TgZ(19,"label",12),e._uU(20,"News Banner"),e.qZA(),e.TgZ(21,"input",13),e.NdJ("change",function(l){return o.handleFileInput(l)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(22,"div",14),e.TgZ(23,"button",15),e._uU(24,"Add News/Events"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(4),e.Q6J("formGroup",o.newsForm))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,s.Q7],styles:['.content[_ngcontent-%COMP%]{height:calc(100vh - 98px);border-radius:10px;margin:16px 32px;font-size:2rem;color:#d3d3d3}label[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:500;font-size:20px;line-height:36px;color:#000}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-family:"Poppins",sans-serif;font-style:normal;font-weight:600;font-size:18px;line-height:27px;color:#b7b7b7}']}),t})();var _=r(8668);const C=[{path:"",component:A.k,canActivate:[_.a],children:[{path:"news-list",component:q},{path:"news-list/details",component:x},{path:"add-news",component:y}]}];let U=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.Bz.forChild(C)],c.Bz]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[d.ez,U]]}),t})()}}]);