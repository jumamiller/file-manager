<div class="content mat-elevation-z8" *appAccessControl="[permissionType.CREATE_PROJECTS,'page']">
  <h2 class="text-center text-dark">Add New Kogi State Project</h2>
  <div class="add-new-user">
    <form [formGroup]="projectForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
      <div class="form-row m-3">
        <div class="col-md-4">
          <label for="name">Name</label>
          <input type="text" id="name" formControlName="name" class="form-control" placeholder="Agriculture"required="">
        </div>

        <div class="col-md-4">
          <label for="name">Project Type</label>
          <select class="form-control" formControlName="type" required="">
            <option disabled>Select Project Type</option>
            <option value="regular">Regular</option>
            <option value="spotlight">Spotlight</option>
          </select>
        </div>

        <div class="col-md-4">
          <label for="category">Category</label>
          <input type="text" id="category" formControlName="category" class="form-control" placeholder="Transportation"required="">
        </div>

        <div class="col-md-4">
          <label for="budget">Budget</label>
          <input type="number" id="budget" formControlName="budget" class="form-control" placeholder=""required="">
        </div>

        <div class="col-md-4">
          <label for="ministry">Ministry</label>
          <select id="ministry" (change)="onMinistryChange($event.target)" class="form-control">
            <option disabled>Select Project Ministry</option>
            <option [value]="ministry.id" *ngFor="let ministry of ministries">{{ministry.name}}</option>
          </select>
        </div>

        <div class="col-md-4">
          <label for="bureau">Bureaus</label>
          <select id="bureau" (change)="onBureauChange($event.target)" class="form-control">
            <option disabled>Select Project Bureau</option>
            <option [value]="bureau.id" *ngFor="let bureau of bureaus">{{bureau.name}}</option>
          </select>
        </div>

        <div class="col-md-4">
          <label for="status">Project Status</label>
          <select formControlName="status" id="status" class="custom-select">
            <option value="budgeted">Budgeted</option>
            <option value="upcoming">Upcoming</option>
            <option value="in-progress">In Progress</option>
            <option value="completed">Completed</option>
          </select>
        </div>

        <div class="col-md-4">
          <label for="client">Client</label>
          <input type="text" id="client" formControlName="client" class="form-control" placeholder=""required="">
        </div>

        <div class="col-md-4">
          <label for="contractor">Contractor</label>
          <input type="text" id="contractor" formControlName="contractor" class="form-control" placeholder=""required="">
        </div>

        <div class="col-md-4">
          <label for="contractor-contacts"> Contractor Contacts</label>
          <input type="text" id="contractor-contacts" formControlName="contractor_contacts" class="form-control" placeholder=""required="">
        </div>

        <div class="col-md-4">
          <label for="facilitator">Facilitator</label>
          <input type="text" id="facilitator" formControlName="facilitator_name" class="form-control" placeholder=""required="">
        </div>

        <div class="col-md-4">
          <label for="facilitator-contacts">Facilitator Contacts</label>
          <input type="text" id="facilitator-contacts" formControlName="facilitator_contacts" class="form-control" placeholder=""required="">
        </div>

        <div class="col-md-4">
          <label for="start-date">Expected Start Date</label>
          <input type=date id="start-date" formControlName="start_date" class="form-control" placeholder=""required="">
        </div>

        <div class="col-md-4">
          <label for="end-date">Expected End Date</label>
          <input type="date" id="end-date" formControlName="end_date" class="form-control" placeholder=""required="">
        </div>

        <div class="col-md-4">
          <label for="total-duration">Total Duration</label>
          <input type="text" id="total-duration" formControlName="total_duration" class="form-control" placeholder=""required="">
        </div>

        <div class="col-md-6">
          <label for="project_image">Banner Images</label>
          <input type="file" id="project_image" multiple (change)="handleFileInput($event)" class="form-control-file" placeholder=""required="">
        </div>

        <div class="col-md-6">
          <label for="other_project_images">Upload Other Images</label>
          <input type="file" id="other_project_images" multiple (change)="handleMultipleFileInput($event)" class="form-control-file" placeholder=""required="">
        </div>
        <div class="col-md-12">
          <label for="description">Description</label>
          <textarea class="form-control" id="description"formControlName="description" rows="7" cols="7"></textarea>
        </div>

      </div>
      <div class="submission m-4 text-right" *appAccessControl="[permissionType.CREATE_PROJECTS,'nav']">
        <button *ngIf="!submitting" [disabled]="projectForm.invalid" class="btn btn-danger">Add New Project</button>
        <button *ngIf="submitting" class="btn btn-success">Processing New Project...</button>
      </div>
    </form>
    <ngx-spinner
      bdColor="rgba(0, 0, 0, 1)"
      template="<img src='https://media.giphy.com/media/o8igknyuKs6aY/giphy.gif' />"
    >
    </ngx-spinner>
  </div>
</div>
